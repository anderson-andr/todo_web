"use strict";(self.webpackChunkFront_End=self.webpackChunkFront_End||[]).push([[729],{9729:(lt,f,a)=>{a.r(f),a.d(f,{TaskModule:()=>ct});var u=a(4859),_=a(4006),C=a(3865),r=a(6895),d=a(858),T=a(262),h=a(9646),x=a(1696),t=a(4650),m=a(590),g=a(8505),Z=a(529),k=a(9086);let A=(()=>{class e{constructor(n,i){this.httpClient=n,this.authservice=i,this.API="https://18.230.156.247:3001/api/Task"}list(){return this.httpClient.get(this.API).pipe((0,m.P)(),(0,g.b)(n=>{console.log(n)}))}listByProject(){return this.httpClient.get(this.API+"/project/"+window.localStorage.getItem("projeto")).pipe((0,m.P)(),(0,g.b)(n=>{console.log(n)}))}save(n){return console.log(n),n.id?(console.log("update"),this.update(n)):(console.log("create"),this.create(n))}create(n){return this.httpClient.post(this.API,n).pipe((0,m.P)())}update(n){return this.httpClient.put(`${this.API}/${n.id}`,n).pipe((0,m.P)())}loadById(n){return this.httpClient.get(`${this.API}/${n}`)}delete(n){return this.httpClient.delete(this.API+"/"+n.id)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(Z.eN),t.LFG(k.e))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var y=a(5412),s=a(5717),N=a(3546),Y=a(3683),E=a(1572),v=a(7392);function P(e,o){1&e&&(t.TgZ(0,"th",21),t._uU(1," Nome "),t.qZA())}function U(e,o){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.name," ")}}function M(e,o){1&e&&(t.TgZ(0,"th",21),t._uU(1," Descric\xe3o "),t.qZA())}function D(e,o){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.description," ")}}function I(e,o){1&e&&(t.TgZ(0,"th",21),t._uU(1," Observa\xe7\xe3o "),t.qZA())}function B(e,o){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.notes," ")}}function Q(e,o){1&e&&(t.TgZ(0,"th",21),t._uU(1," Completo "),t.qZA())}function $(e,o){1&e&&(t.TgZ(0,"span"),t._uU(1,"Sim"),t.qZA())}function j(e,o){1&e&&(t.TgZ(0,"span"),t._uU(1,"N\xe3o"),t.qZA())}function O(e,o){if(1&e&&(t.TgZ(0,"td",22),t.YNc(1,$,2,0,"span",23),t.YNc(2,j,2,0,"span",23),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Q6J("ngIf",n.completed),t.xp6(1),t.Q6J("ngIf",!n.completed)}}function z(e,o){1&e&&(t.TgZ(0,"th",21),t._uU(1," Prazo"),t.qZA())}function H(e,o){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,n.deadline,"dd/MM/yyyy HH:mm:ss")," ")}}function S(e,o){1&e&&(t.TgZ(0,"th",21),t._uU(1," Vencido"),t.qZA())}function J(e,o){1&e&&(t.TgZ(0,"span"),t._uU(1,"Sim"),t.qZA())}function F(e,o){1&e&&(t.TgZ(0,"span"),t._uU(1,"N\xe3o"),t.qZA())}function R(e,o){if(1&e&&(t.TgZ(0,"td",22),t.YNc(1,J,2,0,"span",23),t.YNc(2,F,2,0,"span",23),t.qZA()),2&e){const n=o.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",i.isPrazoEsgotado(n.dealine)),t.xp6(1),t.Q6J("ngIf",!i.isPrazoEsgotado(n.dealine))}}function b(e,o){1&e&&(t.TgZ(0,"th",21),t._uU(1," Cria\xe7\xe3o"),t.qZA())}function w(e,o){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,n.createdAt,"dd/MM/yyyy HH:mm:ss")," ")}}function G(e,o){1&e&&(t.TgZ(0,"th",21),t._uU(1," Atualiza\xe7\xe3o "),t.qZA())}function K(e,o){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,n.updatedAt,"dd/MM/yyyy HH:mm:ss")," ")}}function L(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"mat-header-cell")(1,"button",24),t.NdJ("click",function(){t.CHM(n);const c=t.oxw(2);return t.KtG(c.Add())}),t.TgZ(2,"mat-icon"),t._uU(3,"add"),t.qZA()()()}}function q(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"mat-cell")(1,"button",25),t.NdJ("click",function(){const l=t.CHM(n).$implicit,p=t.oxw(2);return t.KtG(p.onEdit(l))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",26),t.NdJ("click",function(){const l=t.CHM(n).$implicit,p=t.oxw(2);return t.KtG(p.onDelete(l))}),t.TgZ(5,"mat-icon"),t._uU(6,"delete"),t.qZA()()()}}function X(e,o){1&e&&t._UZ(0,"tr",27)}function V(e,o){1&e&&t._UZ(0,"tr",28)}function W(e,o){if(1&e&&(t.TgZ(0,"div")(1,"table",5),t.ynx(2,6),t.YNc(3,P,2,0,"th",7),t.YNc(4,U,2,1,"td",8),t.BQk(),t.ynx(5,9),t.YNc(6,M,2,0,"th",7),t.YNc(7,D,2,1,"td",8),t.BQk(),t.ynx(8,10),t.YNc(9,I,2,0,"th",7),t.YNc(10,B,2,1,"td",8),t.BQk(),t.ynx(11,11),t.YNc(12,Q,2,0,"th",7),t.YNc(13,O,3,2,"td",8),t.BQk(),t.ynx(14,12),t.YNc(15,z,2,0,"th",7),t.YNc(16,H,3,4,"td",8),t.BQk(),t.ynx(17,13),t.YNc(18,S,2,0,"th",7),t.YNc(19,R,3,2,"td",8),t.BQk(),t.ynx(20,14),t.YNc(21,b,2,0,"th",7),t.YNc(22,w,3,4,"td",8),t.BQk(),t.ynx(23,15),t.YNc(24,G,2,0,"th",7),t.YNc(25,K,3,4,"td",8),t.BQk(),t.ynx(26,16),t.YNc(27,L,4,0,"mat-header-cell",17),t.YNc(28,q,7,0,"mat-cell",18),t.BQk(),t.YNc(29,X,1,0,"tr",19),t.YNc(30,V,1,0,"tr",20),t.qZA()()),2&e){const n=o.ngIf,i=t.oxw();t.xp6(1),t.Q6J("dataSource",n),t.xp6(28),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns)}}function tt(e,o){1&e&&(t.TgZ(0,"div",29),t._UZ(1,"mat-spinner"),t.qZA())}const et=[{path:"",component:(()=>{class e{constructor(n,i,c,l){this.taskService=n,this.router=i,this.route=c,this.dialog=l,this.displayedColumns=["name","description","notes","completed","deadline","vencido","updatedAt","createdAt","actions"],this.tasks=[],this.task$=this.taskService.listByProject().pipe((0,T.K)(p=>(this.onErro("Erro ao carregar. "),(0,h.of)([]))))}ngOnInit(){}onErro(n){this.dialog.open(x.I,{data:n})}onEdit(n){this.router.navigate(["editar",n.id],{relativeTo:this.route})}Add(){this.router.navigate(["novo"],{relativeTo:this.route})}refresh(){this.task$=this.taskService.listByProject().pipe((0,T.K)(n=>(this.onErro("Erro ao carregar Tarefas."),(0,h.of)([]))))}onDelete(n){this.taskService.delete(n).subscribe(i=>{this.tasks=this.tasks.filter(c=>c!==n),alert("task Deletado"),this.refresh()})}isPrazoEsgotado(n){return new Date>=n}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(A),t.Y36(d.F0),t.Y36(d.gz),t.Y36(y.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-task"]],decls:11,vars:4,consts:[[1,"container"],["color","primary"],[1,"toolbar"],[4,"ngIf","ngIfElse"],["loading",""],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","notes"],["matColumnDef","completed"],["matColumnDef","deadline"],["matColumnDef","vencido"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],["mat-mini-fab","","color","accent","aria-label","adicionar servi\xe7o",3,"click"],["mat-icon-button","","color","primary","aria-label","Editar  servi\xe7o",3,"click"],["mat-icon-button","","color","warn","aria-label","Remover  servi\xe7o",3,"click"],["mat-header-row",""],["mat-row",""],[1,"loading-spinner"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0)(1,"mat-card")(2,"mat-toolbar",1)(3,"span",2),t._uU(4,"Tarefas Cadastradas"),t.qZA()(),t.YNc(5,W,31,3,"div",3),t.ALo(6,"async"),t.YNc(7,tt,2,0,"ng-template",null,4,t.W1O),t.qZA(),t.TgZ(9,"button"),t._uU(10," Voltar "),t.qZA()()),2&n){const c=t.MAs(8);t.xp6(5),t.Q6J("ngIf",t.lcZ(6,2,i.task$))("ngIfElse",c)}},dependencies:[r.O5,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,N.a8,Y.Ye,E.Ou,u.RK,u.nh,v.Hw,r.Ov,r.uU],styles:[".container[_ngcontent-%COMP%]{width:80%;max-width:1200px;margin:0 auto;font-family:Roboto Condensed,sans-serif}mat-card[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin-top:15px}mat-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:center}.toolbar[_ngcontent-%COMP%]{font-size:30px}td[_ngcontent-%COMP%]{text-align:left}th[_ngcontent-%COMP%], mat-header-cell[_ngcontent-%COMP%], mat-cell[_ngcontent-%COMP%]{text-align:left;height:70px;font-size:18px}.loading-spinner[_ngcontent-%COMP%]{padding:25px;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.15)}"]}),e})()}];let nt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.Bz.forChild(et),d.Bz]}),e})();var ot=a(4466),at=a(9549),it=a(4144),st=a(1561);let ct=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[r.ez,nt,C.M,ot.m,_.u5,_.UX,at.lN,it.c,u.ot,v.Ps,st.Tx]}),e})()}}]);