{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { catchError, of } from 'rxjs';\nimport { ErrorDialogComponent } from 'src/app/shared/components/error-dialog/error-dialog.component';\nlet ProjectComponent = class ProjectComponent {\n  constructor(projetoService, router, route, dialog) {\n    this.projetoService = projetoService;\n    this.router = router;\n    this.route = route;\n    this.dialog = dialog;\n    this.displayedColumns = ['id', 'name', 'description', 'updatedAt', 'createdAt', 'actions'];\n    this.projetos = [];\n    {\n      this.project$ = this.projetoService.listByUser().pipe(catchError(error => {\n        this.onErro('Erro ao carregar. ');\n        return of([]);\n      }));\n    }\n  }\n  ngOnInit() {}\n  onErro(errorMsg) {\n    this.dialog.open(ErrorDialogComponent, {\n      data: errorMsg\n    });\n  }\n  onEdit(projeto) {\n    this.router.navigate(['editar', projeto.id], {\n      relativeTo: this.route\n    });\n  }\n  Add() {\n    this.router.navigate(['novo'], {\n      relativeTo: this.route\n    });\n  }\n  refresh() {\n    this.project$ = this.projetoService.list().pipe(catchError(error => {\n      this.onErro('Erro ao carregar Projetos.');\n      return of([]);\n    }));\n  }\n  onDelete(projeto) {\n    this.projetoService.delete(projeto).subscribe(data => {\n      this.projetos = this.projetos.filter(response => response !== projeto);\n      alert(\"Projeto Deletado\");\n      this.refresh();\n    });\n  }\n};\nProjectComponent = __decorate([Component({\n  selector: 'app-project',\n  templateUrl: './project.component.html',\n  styleUrls: ['./project.component.scss']\n})], ProjectComponent);\nexport { ProjectComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAGjD,SAASC,UAAU,EAAcC,EAAE,QAAQ,MAAM;AACjD,SAASC,oBAAoB,QAAQ,+DAA+D;AAY7F,IAAMC,gBAAgB,GAAtB,MAAMA,gBAAgB;EAI3BC,YACUC,cAA8B,EAC9BC,MAAa,EACbC,KAAqB,EACtBC,MAAiB;IAHhB,mBAAc,GAAdH,cAAc;IACd,WAAM,GAANC,MAAM;IACN,UAAK,GAALC,KAAK;IACN,WAAM,GAANC,MAAM;IANf,qBAAgB,GAAG,CAAC,IAAI,EAAC,MAAM,EAAE,aAAa,EAAC,WAAW,EAAC,WAAW,EAAC,SAAS,CAAC;IACjF,aAAQ,GAAc,EAAE;IAOtB;MACE,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACJ,cAAc,CAACK,UAAU,EAAE,CAACC,IAAI,CAEnDX,UAAU,CAAEY,KAAK,IAAG;QACjB,IAAI,CAACC,MAAM,CAAC,oBAAoB,CAAC;QAChC,OAAQZ,EAAE,CAAC,EAAE,CAAC;MAClB,CAAC,CAAC,CACH;;EAML;EAEAa,QAAQ,IAGR;EAEAD,MAAM,CAACE,QAAgB;IACrB,IAAI,CAACP,MAAM,CAACQ,IAAI,CAACd,oBAAoB,EAAE;MACrCe,IAAI,EAAEF;KACP,CAAC;EACJ;EAIAG,MAAM,CAACC,OAAe;IACpB,IAAI,CAACb,MAAM,CAACc,QAAQ,CAAC,CAAC,QAAQ,EAAED,OAAO,CAACE,EAAE,CAAC,EAAE;MAACC,UAAU,EAAC,IAAI,CAACf;IAAK,CAAC,CAAC;EACvE;EAEAgB,GAAG;IACD,IAAI,CAACjB,MAAM,CAACc,QAAQ,CAAC,CAAC,MAAM,CAAC,EAAE;MAACE,UAAU,EAAC,IAAI,CAACf;IAAK,CAAC,CAAC;EACzD;EAIAiB,OAAO;IACL,IAAI,CAACf,QAAQ,GAAE,IAAI,CAACJ,cAAc,CAACoB,IAAI,EAAE,CACtCd,IAAI,CACHX,UAAU,CAACY,KAAK,IAAG;MACjB,IAAI,CAACC,MAAM,CAAC,4BAA4B,CAAC;MACzC,OAAOZ,EAAE,CAAC,EAAE,CAAC;IACf,CAAC,CAAC,CACH;EACL;EAEAyB,QAAQ,CAACP,OAAgB;IACrB,IAAI,CAACd,cAAc,CAACsB,MAAM,CAACR,OAAO,CAAC,CAACS,SAAS,CAACX,IAAI,IAAG;MACnD,IAAI,CAACY,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAACC,MAAM,CAAEC,QAAQ,IAAIA,QAAQ,KAAIZ,OAAO,CAAC;MACtEa,KAAK,CAAC,kBAAkB,CAAC;MACzB,IAAI,CAACR,OAAO,EAAE;IAChB,CAAC,CAAC;EACN;CACD;AAjEYrB,gBAAgB,eAL5BJ,SAAS,CAAC;EACTkC,QAAQ,EAAE,aAAa;EACvBC,WAAW,EAAE,0BAA0B;EACvCC,SAAS,EAAE,CAAC,0BAA0B;CACvC,CAAC,GACWhC,gBAAgB,CAiE5B;SAjEYA,gBAAgB","names":["Component","catchError","of","ErrorDialogComponent","ProjectComponent","constructor","projetoService","router","route","dialog","project$","listByUser","pipe","error","onErro","ngOnInit","errorMsg","open","data","onEdit","projeto","navigate","id","relativeTo","Add","refresh","list","onDelete","delete","subscribe","projetos","filter","response","alert","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\ander\\Documents\\Projetos\\TodoApp\\front-end\\src\\app\\project\\project\\project.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ProjectService } from '../services/project.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { catchError, Observable, of } from 'rxjs';\nimport { ErrorDialogComponent } from 'src/app/shared/components/error-dialog/error-dialog.component';\nimport { MatDialog } from '@angular/material/dialog';\nimport { AppComponent } from 'src/app/app.component';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { Project } from '../model/project';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { MatIconModule } from '@angular/material/icon';\n@Component({\n  selector: 'app-project',\n  templateUrl: './project.component.html',\n  styleUrls: ['./project.component.scss']\n})\nexport class ProjectComponent implements OnInit {\n  project$: Observable<Project[]>\n  displayedColumns = ['id','name', 'description','updatedAt','createdAt','actions'];\n  projetos: Project[] = []\n  constructor(\n    private projetoService: ProjectService,\n    private router:Router,\n    private route: ActivatedRoute,\n    public dialog: MatDialog,)\n  {\n    {\n      this.project$ = this.projetoService.listByUser().pipe (\n\n        catchError (error => {\n           this.onErro('Erro ao carregar. ')\n            return  of([])\n        })\n      );\n    }\n\n\n\n\n  }\n\n  ngOnInit(): void {\n\n\n  }\n\n  onErro(errorMsg: string) {\n    this.dialog.open(ErrorDialogComponent, {\n      data: errorMsg,\n    });\n  }\n\n\n\n  onEdit(projeto:Project) {\n    this.router.navigate(['editar', projeto.id], {relativeTo:this.route});\n  }\n\n  Add() {\n    this.router.navigate(['novo'], {relativeTo:this.route});\n  }\n\n\n\n  refresh() {\n    this.project$= this.projetoService.list()\n      .pipe(\n        catchError(error => {\n          this.onErro('Erro ao carregar Projetos.');\n          return of([])\n        })\n      );\n  }\n\n  onDelete(projeto: Project) {\n      this.projetoService.delete(projeto).subscribe(data => {\n        this.projetos = this.projetos.filter( response => response !==projeto)\n        alert(\"Projeto Deletado\");\n        this.refresh();\n      })\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}